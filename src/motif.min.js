const motif=function(){var proto;function Motif(){}function allFlag(subject,location,tmp,execute){if(!subject.match(/\[(| )all(| )\]/gim))return subject;var noFlag=subject.replace(/\[(| )all(| )\]/gim,""),nodes=tmp.querySelectorAll(noFlag),nodeList=[],execute;if(!(execute=void 0===execute||execute))return!0;for(let i=0;i<nodes.length;i++)nodeList.push(nodes[i]);nodeList.forEach(node=>{document.querySelector(location[subject]).append(node)})}function amountFlag(subject,location,tmp,execute){if(!subject.match(/\[(| )\d+(| )\]/gim))return subject;var flag=subject.match(/\[(| )(\d+)(| )\]/gim)[0].replace(/\[|\]/gim,""),noFlag=subject.replace(/\[(| )\d+(| )\]/gim,""),nodes=tmp.querySelectorAll(noFlag),nodeList=[],execute;if(!(execute=void 0===execute||execute))return!0;for(let i=0;i<Number(flag);i++)nodeList.push(nodes[i]);nodeList.forEach(node=>{document.querySelector(location[subject]).append(node)})}function noFlag(subject,location,tmp,execute){if(!subject.match(/\[.*?\]/gim)){var subjectNode=tmp.querySelector(subject),execute;if(!(execute=void 0===execute||execute))return!0;document.querySelector(location).append(subjectNode)}}function loadMethods(response){var fn={};if(response){var tmp=document.createElement("div");fn.response=response,tmp.innerHTML=response,fn.insert=function(selector){return fn.insert=tmp.querySelector(selector),fn},fn.insertAll=function(selector){var items=[],nodes=tmp.querySelectorAll(selector);for(let i=0;i<nodes.length;i++)items.push(nodes[i]);return fn.insert=items,fn},fn.into=function(selector,callback){fn.insert instanceof Array?fn.insert instanceof Array&&fn.insert.forEach(item=>{document.querySelector(selector).append(item)}):document.querySelector(selector).append(fn.insert),callback&&callback()},fn.exclude=function(...selectors){return selectors.forEach(selector=>{if(noFlag(selector,null,tmp,!1))tmp.querySelector(selector).remove();else if(allFlag(selector,null,tmp,!1)){var validSelector=selector.replace(/\[(| )all(| )\]/gim,""),removable=tmp.querySelectorAll(validSelector);for(let i=0;i<removable.length;i++)removable[i].remove()}}),fn},fn.insertInto=function(props,callback){for(let key in props)noFlag(key,props,tmp),allFlag(key,props,tmp),amountFlag(key,props,tmp);callback&&callback()},fn.mutate=function(selector,mutation){var nodes=tmp.querySelectorAll(selector),keys=mutation.match(/\[\[.*?\]\]/gim),validKeys=[];keys.forEach((key,i)=>{validKeys.push(key.replace(/\[|\]| /gm,""))});for(let i=0;i<nodes.length;i++){var mutated="";validKeys.forEach((key,x)=>{var elems=nodes[i].querySelectorAll(key);for(let j=0;j<elems.length;j++)mutated+=elems[j].outerHTML,elems[j].remove()}),nodes[i].innerHTML=mutated}}}return fn}return Motif.prototype.load=function(url,callback){var xr=new XMLHttpRequest;xr.open("GET",url,!0),xr.onreadystatechange=()=>{if(4===xr.readyState&&200===xr.status){var response=xr.responseText;callback&&callback(loadMethods(response))}},xr.send()},new Motif}();